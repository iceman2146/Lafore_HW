// newstr.cpp
// использование оператора new дл€ выделени€ пам€ти под строку
#include <iostream>
#include <cstring>     // дл€ strcpy(), и т.д.
using namespace std;
///////////////////////////////////////////////////////////
class String
{
private:
	char* str;                      // указатель на строку
public:
	String(char* s)                 // конструктор с одним параметром
	{
		int length = strlen(s);     // вычисл€ем длину строки
		str = new char[length + 1]; // выдел€ем необходимую пам€ть
		strcpy(str, s);             // копируем строку
	}
	~String()                       // деструктор
	{
		cout << "”дал€ем строку\n";
		delete[] str;               // освобождаем пам€ть
	}
	void display()                  // покажем строку на экране
	{
		cout << str << endl;
	}
};
///////////////////////////////////////////////////////////
int main()
{
	system("chcp 1251 > nul");

	String s1 = "“ише едешь - дальше будешь.";
	cout << "s1 = ";
	s1.display();

	return 0;
}
